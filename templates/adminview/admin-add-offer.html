{% extends 'adminview/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Add New Offer</h2>
    <form id="addOfferForm" method="POST" onsubmit="return validateOfferForm()">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="offerName" class="form-label">Offer Name:</label>
                <input type="text" class="form-control" id="offerName" placeholder="Enter offer name" name="name">
                <span class="text-danger" id="offerNameError"></span>
            </div>
            <div class="col-md-6 mb-3">
                <label for="percentage" class="form-label">Percentage Discount (%):</label>
                <input type="number" class="form-control" id="percentage" placeholder="Enter percentage discount" name="percentage">
                <span class="text-danger" id="percentageError"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="startDate" class="form-label">Start Date:</label>
                <input type="date" class="form-control" id="startDate" name="startdate">
                <span class="text-danger" id="startDateError"></span>
            </div>
            <div class="col-md-6 mb-3">
                <label for="endDate" class="form-label">End Date:</label>
                <input type="date" class="form-control" id="endDate" name="enddate">
                <span class="text-danger" id="endDateError"></span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </form>
</div>


<script>
    function validateOfferForm() {
        var offerName = document.getElementById("offerName").value;
        var percentage = document.getElementById("percentage").value;
        var startDate = document.getElementById("startDate").value;
        var endDate = document.getElementById("endDate").value;

        var error = false;

        // Clear previous error messages
        document.getElementById("offerNameError").innerHTML = "";
        document.getElementById("percentageError").innerHTML = "";
        document.getElementById("startDateError").innerHTML = "";
        document.getElementById("endDateError").innerHTML = "";

        // Validate inputs
        if (offerName.trim() === "") {
            document.getElementById("offerNameError").innerHTML = "Offer Name is required";
            error = true;
        }
        if (percentage === "") {
            document.getElementById("percentageError").innerHTML = "Percentage Discount is required";
            error = true;
        }
        if (startDate === "") {
            document.getElementById("startDateError").innerHTML = "Start Date is required";
            error = true;
        }
        if (endDate === "") {
            document.getElementById("endDateError").innerHTML = "End Date is required";
            error = true;
        }

        return !error;
    }
</script>



{% endblock %}