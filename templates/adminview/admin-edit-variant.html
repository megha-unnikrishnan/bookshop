{% extends 'adminview/base.html' %}
{% load static %}

{% block content %}

<div class="container mt-5" style="width:50%">
    <h2>Edit Book Variant</h2>
    <form action="" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
            <label for="price" class="form-label">Variant</label>
            <input type="text" class="form-control" id="varinat" name="variant"value="{{variant.variant_name}}" required>
        </div>
        <div class="mb-3">
            <label for="categoryName" class="form-label">Select Category</label>
            <select class="form-select select2" id="categoryName" name="category" required>
                <option value="">Select Category</option>
                {% for i in category %}
              <option value="{{ i.id }}" {% if i.id == variant.category.id %} selected {% endif %}>{{ i.category_name }}</option>
                {% endfor %}
            </select>
        </div>

      <div class="mb-3">
            <label for="productName" class="form-label">Select Product</label>
            <select class="form-select select2" id="productName" name="product" required>
                <option value="">Select Product</option>
                {% for i in product %}
                <option value="{{ i.id }}" {% if i.id == variant.product.id %} selected {% endif %}>{{ i.product_name }}</option>
                {% endfor %}
            </select>

        </div>

        <div class="mb-3">
            <label for="offerName" class="form-label">Select Offer</label>
            <select class="form-select select2" id="offerName" name="offer" required>
                <option value="">Select Offer</option>
                {% for i in offer %}
                      <option value="{{ i.id }}" {% if i.id == variant.offer.id %} selected {% endif %}>{{ i.name }}</option>
                {% endfor %}
            </select>
        </div>
           <div class="mb-3">
            <label for="offerName" class="form-label">Select Edition</label>
            <select class="form-select select2" id="editionName" name="edition" required>
                <option value="">Select Edition</option>
                {% for i in edition %}
             <option value="{{ i.id }}" {% if i.id == variant.edition.id %} selected {% endif %}>{{ i.edition_name }}</option>
                {% endfor %}
            </select>
        </div>
         <div class="mb-3">
            <label for="productName" class="form-label">Select Author</label>
            <select class="form-select select2" id="authorName" name="author" required>
                <option value="">Select Author</option>
                {% for i in author %}
                <option value="{{ i.id }}" {% if i.id == variant.author.id %} selected {% endif %}>{{ i.author_name }}</option>
                {% endfor %}
            </select>
        </div>


        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input type="number" class="form-control" id="price" name="price" required value="{{variant.product_price}}">
        </div>
        <div class="mb-3">
            <label for="stock" class="form-label">Stock</label>
             <input type="number" class="form-control" id="stock" name="stock" required value="{{variant.stock}}">
        </div>
        <div class="mb-3">
            <label for="rating" class="form-label">Rating</label>
            <input type="number" class="form-control" id="rating" name="rating" required value="{{variant.rating}}">
        </div>
         <div class="d-flex justify-content-center">
                                    <div class="mb-3">
                                        <input class="form-control bg-grey text-black" type="file" multiple id="formFile" name="multipleImage">
                                        <label for="formFile" class="form-label">Choose your image</label>
                                    </div>
                                </div>



                        <div class="row">
                             <!-- Multiple Image -->
                             <div class="mb-4 d-flex justify-content-center align-items-center gap-3">
                                <label for="currentFile" class="form-label">Current Image</label>
<!--                                {% if multiple_images %}-->
<!--                                    {% for image in multiple_images %}-->
<!--                                 <a> <img src="{{ image.images.url }}" alt="multiple images"  width="50" height="200" style="width: 10vw;" id="currentFile" /></a>-->
<!--                                    {% endfor %}-->
<!--                                {% endif %}-->
                           {% if multiple_images %}
    {% for image in multiple_images %}
        <div>
            <img src="{{ image.images.url }}" alt="multiple images" width="50" height="200" style="width: 10vw;" />
            <a href="{% url 'deleteimage' image.id %}" class="delete-link" onclick="return confirm('Are you sure you want to delete this image?')">Delete</a>
        </div>
    {% endfor %}
{% endif %}



                            </div>

                        </div>
        <button type="submit" class="btn btn-primary">Submit</button>

    </form>

</div>

{% endblock %}

